<!DOCTYPE html>
<html>
<head>
<title>Search Profile</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
	</script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>

<style type="text/css">
.semere {
	display: block;
	margin-left: auto;
	margin-right: auto;
}
</style>

<script>

  function searchProfile(){
	 var pemail=$("#email").val();
	 //fetch is used to make ajax call
	 //METHOD=GET
	 var promise=fetch("ajaxSearchProfile?email="+pemail);
	 promise.then((reponse) =>reponse.json()).then(function(pdata){
		 console.log(pdata);	
		 $("#pname").html(pdata.name);
		 $("#pusername").html(pdata.username);
		 $("#pemail").html(pdata.email);
		 $("#pqualification").html(pdata.qualification);
		 $("#pmobile").html(pdata.mobile);
    	//	 <img id="studentImage"  src="img/student.png" class="semere"  style="height: 50px;">
    	 $("#studentImage").attr("src",pdata.photo);
		 $("#pstudentImage").attr("src",pdata.photo);
		 
	 });
	
  }

</script>


</head>
<body>
	<header style="background-color: #03a9f4; height: 30px;">
 	   Search AJAX MAGIX!
	   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
	 </header>
	<div  class="container">
	     <hr style="border-top: 5px solid rgba(103,58,183,1);"/>
		<img id="studentImage"  src="img/student.png" class="semere"  style="height: 100px;">
		<div  class="semere"   style="width: 50%">
		   <hr/>
		   <span  id="emessage"  style="color:blue;font-size: 16px;font-weight: bold;"></span>
		            <label for="username">Enter Email</label>
		            <input type="email" name="email" class="form-control" id="email">
		             <br/>
		<button type="button" class="btn btn-primary" onclick="searchProfile();">Search Profile</button>
		<hr/>
		<table class="table table-bordered">
    <tbody>
      <tr>
        <td>Name</td>
        <td id="pname"></td>
      </tr>
      <tr>
        <td>Username</td>
        <td id="pusername"></td>
      </tr>
      <tr>
        <td>Email</td>
        <td id="pemail"></td>
      </tr>
      
       <tr>
        <td>Qualification</td>
        <td id="pqualification"></td>
      </tr>
      
      
        <tr>
        <td>Mobile</td>
        <td id="pmobile"></td>
      </tr>
      
       <tr>
        <td>Photo</td>
        <td><img id="pstudentImage"  src="" class="semere"  style="height: 50px;"></td>
      </tr>

    </tbody>
  </table>
		
		
		</div>
		 
	</div>

</body>
</html>